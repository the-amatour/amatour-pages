<!-- header.html -->
<header class="bg-white shadow-md sticky top-0 z-50 h-[88px] md:h-[100px]">
  <div class="relative max-w-7x1 mx-auto px-4 py-4 flex items-center justify-between h-full">

    <!-- Left Icon / Menu -->
    <button id="menu-toggle" class="focus:outline-none z-50">
      <img src="./resources/nav-expand.svg" alt="Menu" class="w-10 h-10">
    </button>

<!--     Center logo -->
    <a href="/" class="absolute left-1/2 transform -translate-x-1/2 z-40">
      <img src="./resources/mini-logo.svg" alt="The Amatour Logo" class="h-12 w-12 block md:hidden">
      <img src="./resources/logo.svg" alt="The Amatour Logo" class="h-12 w-12 hidden md:block">
    </a>

<!--     Right icons -->
    <a href="/leaderboard" class="md:flex items-center space-x-4 z-50">
      <img src="./resources/leaderboard.svg" alt="Link to leaderboard" class="w-10 h-10">
    </a>
  </div>

  <!-- Unified Dropdown Menu (Top-right Panel) -->
  <div
    id="mobile-menu"
    class="absolute top-full left-0 w-full md:w-64 bg-white shadow-md hidden px-4 py-4 z-40"
  >
    <nav class="flex flex-col space-y-2 text-sm font-medium text-gray-700">
      <a href="./about" class="hover:text-indigo-600 transition">About</a>
      <a href="./schedule" class="hover:text-indigo-600 transition">Schedule</a>
      <a href="./leaderboard" class="hover:text-indigo-600 transition">Leaderboard</a>
      <a href="./rules-and-regulations" class="hover:text-indigo-600 transition">Rules and Regulations</a>
      <a href="./register" class="hover:text-indigo-600 transition">Register</a>
    </nav>
  </div>
</header>

<script>
  const toggleButton = document.getElementById("menu-toggle");
  const menu = document.getElementById("mobile-menu");

  toggleButton.addEventListener("click", (e) => {
    e.stopPropagation(); // Prevent the click from bubbling up
    menu.classList.toggle("hidden");
  });

  // Close menu if clicking outside of it
  document.addEventListener("click", (e) => {
    const isClickInsideMenu = menu.contains(e.target);
    const isClickOnButton = toggleButton.contains(e.target);

    if (!isClickInsideMenu && !isClickOnButton) {
      menu.classList.add("hidden");
    }
  });
</script>

