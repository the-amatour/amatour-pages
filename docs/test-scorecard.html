<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scorecard Test | The Amatour</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900 p-6">
  <h1 class="text-2xl font-bold mb-6">üèåÔ∏è Player Scorecard Example</h1>

  <div class="mb-4 p-4 border border-gray-300 rounded-md inline-block">
    <div class="flex justify-between text-sm text-gray-600 font-semibold">
      <span id="toPar">To Par: +0</span>
      <span id="grossNet">Gross/Net: 0/0</span>
    </div>
  </div>

  <div id="scorecard" class="grid grid-cols-9 gap-2 text-center text-sm border border-gray-300 p-4 rounded-md bg-white"></div>

  <script>
    const samplePlayer = {
      name: "Jane Smith",
      slug: "jane-smith",
      rounds: [
        {
          event: "Cherry Hills",
          date: "2025-08-20",
          scores: [6,6,4,5,6,6,1,5,1,7,6,7,5,4,5,5,6,4],
          par:    [4,4,4,4,4,4,3,4,4,4,4,4,4,3,4,4,4,3],
          gross: 101,
          net: 79
        }
      ]
    };

    function getToPar(scores, pars) {
      return scores.reduce((sum, score, i) => sum + (score - pars[i]), 0);
    }

    function createScoreCell(score, par) {
      const diff = score - par;
      const cell = document.createElement("div");
      cell.className = "relative w-8 h-8 flex items-center justify-center mx-auto";

      if (diff <= -2) {
        // Double circle for eagle
        cell.innerHTML = `
          <div class="absolute inset-0 rounded-full border border-black"></div>
          <div class="absolute inset-1 rounded-full border border-black"></div>
          <span class="z-10 font-medium">${score}</span>
        `;
      } else if (diff === -1) {
        // Single circle for birdie
        cell.innerHTML = `
          <div class="absolute inset-0 rounded-full border border-black"></div>
          <span class="z-10 font-medium">${score}</span>
        `;
      } else if (diff === 1) {
        // Single square for bogey
        cell.innerHTML = `
          <div class="absolute inset-0 border border-black"></div>
          <span class="z-10 font-medium">${score}</span>
        `;
      } else if (diff >= 2) {
        // Double square for double+ bogey
        cell.innerHTML = `
          <div class="absolute inset-0 border border-black"></div>
          <div class="absolute inset-1 border border-black"></div>
          <span class="z-10 font-medium">${score}</span>
        `;
      } else {
        // Par
        cell.innerHTML = `<span class="font-medium">${score}</span>`;
      }

      return cell;
    }

    function renderScorecard(player) {
      const container = document.getElementById("scorecard");
      const round = player.rounds[0];

      // Row 1: Holes 1-9
      for (let i = 0; i < 9; i++) {
        const div = document.createElement("div");
        div.className = "text-xs text-gray-500 font-medium";
        div.textContent = i + 1;
        container.appendChild(div);
      }

      // Row 2: Scores 1-9
      for (let i = 0; i < 9; i++) {
        const scoreEl = createScoreCell(round.scores[i], round.par[i]);
        container.appendChild(scoreEl);
      }

      // Row 3: Holes 10-18
      for (let i = 9; i < 18; i++) {
        const div = document.createElement("div");
        div.className = "text-xs text-gray-500 font-medium";
        div.textContent = i + 1;
        container.appendChild(div);
      }

      // Row 4: Scores 10-18
      for (let i = 9; i < 18; i++) {
        const scoreEl = createScoreCell(round.scores[i], round.par[i]);
        container.appendChild(scoreEl);
      }

      // To Par + Gross/Net
      const toPar = getToPar(round.scores, round.par);
      const toParEl = document.getElementById("toPar");
      const grossNetEl = document.getElementById("grossNet");
      toParEl.textContent = `To Par: ${toPar > 0 ? "+" + toPar : toPar}`;
      grossNetEl.textContent = `Gross/Net: ${round.gross}/${round.net}`;
    }

    renderScorecard(samplePlayer);
  </script>
</body>
</html>
